!function(n){var o={};function e(i){if(o[i])return o[i].exports;var t=o[i]={i:i,l:!1,exports:{}};return n[i].call(t.exports,t,t.exports,e),t.l=!0,t.exports}e.m=n,e.c=o,e.d=function(n,o,i){e.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},e.p="/",e(e.s=337)}({337:function(n,o,e){n.exports=e(338)},338:function(n,o){new Vue({el:"#app",data:{config:window.config,info:null,error:null,code:null},methods:{setToken:function(n){var o=(24-(new Date).getHours()+3)/24;Cookies.set("Admin-Token",n,{expires:o||1})},sendusercode:function(n){var o=this;console.log("1"),this.code=n,axios.post("",{code:n}).then(function(n){var e=n.data;if(o.info=e,console.log(e),e.success){if(e.data.token){var i=e.data.token;console.log(i),o.setToken(i)}window.location.href="/dingtalk/index.html"}else o.error=e.msg})}},mounted:function(){var n=this;console.log(this.config),console.log(DingTalkPC),DingTalkPC.ua.isInDingTalk?(DingTalkPC.config({agentId:this.config.agentId,corpId:this.config.corpId,timeStamp:this.config.timeStamp,nonceStr:this.config.nonceStr,signature:this.config.signature,jsApiList:["runtime.permission.requestAuthCode","device.notification.alert","device.notification.confirm","biz.contact.choose","device.notification.prompt","biz.ding.post"]}),DingTalkPC.userid=0,DingTalkPC.ready(function(o){console.log(o),DingTalkPC.runtime.permission.requestAuthCode({corpId:n.config.corpId,onSuccess:function(o){n.sendusercode(o.code)},onFail:function(n){console.log(JSON.stringify(n))}})})):(this.$message.error("未在钉钉工作台，无法登录"),this.error="未在钉钉工作台，无法登录")}})}});