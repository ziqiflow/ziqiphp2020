(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6481"],{I4Mh:function(t,e,n){},jaUk:function(t,e,n){"use strict";n.r(e);var o=n("gDS+"),s=n.n(o),a=n("QbLZ"),i=n.n(a),l=n("L2JU"),r={name:"Csunflowchosen",components:{},props:{label:{type:String,default:function(){return"默认外部子流程："}},chose:{type:Array,default:function(){return[]}}},data:function(){return{modalFlowChosen:!1,transferData:[],targetKeys:[]}},computed:i()({},Object(l.e)({flowCanSonList:function(t){return t.flowdesign.flowCanSonList}})),methods:i()({},Object(l.b)(["getFlowCanSonList"]),{cancel:function(){this.modalFlowChosen=!1},ok:function(){var t=this;this.modalFlowChosen=!1;var e=[];this.targetKeys.forEach(function(n){t.flowCanSonList.forEach(function(t){n==t._id&&e.push({n:t.name,v:n})})}),this.$emit("update:chose",e)},start:function(){var t=this;this.modalFlowChosen=!0,this.targetKeys=[],this.chose&&this.chose.forEach(function(e){t.targetKeys.push(e.v)}),console.log(this.targetKeys),0==this.flowCanSonList.length?this.getFlowCanSonList().then(function(e){t.initdata()}):this.initdata()},copyObject:function(t){return JSON.parse(s()(t))},filterMethod:function(t,e){return e.label.indexOf(t)>-1},initdata:function(){var t=this;this.transferData=[],this.flowCanSonList.forEach(function(e){t.transferData.push({key:e._id,label:e.name})}),console.log(this.transferData)}}),watch:{},mounted:function(){}},c=(n("wGvv"),n("KHd+")),f=Object(c.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fz12"},[t.chose&&0!=t.chose.length?n("div",[n("span",[t._v(t._s(t.label))]),t._v(" "),t._l(t.chose,function(e,o){return n("span",{key:o,staticClass:"sonflow"},[t._v(t._s(e.n))])}),t._v(" "),n("a",{staticStyle:{"margin-left":"10px"},on:{click:t.start}},[t._v("编辑")])],2):n("span",[n("a",{staticClass:"fz12",on:{click:t.start}},[t._v("添加外部流程")])]),t._v(" "),n("el-dialog",{attrs:{visible:t.modalFlowChosen,title:"选择子流程","append-to-body":"",width:"50%"},on:{"update:visible":function(e){t.modalFlowChosen=e}}},[n("el-alert",{staticClass:"mg10",attrs:{closable:!1,title:"外部子流程选取自之前创建的流程。不建议创建太多的外部子流程。"}}),t._v(" "),n("el-alert",{staticClass:"mg10",attrs:{closable:!1,title:"选择的外部流程默认走第一个按键的流程。而且表单填写数据为空。",type:"error"}}),t._v(" "),n("el-transfer",{attrs:{titles:["全部流程","已选择子流程"],data:t.transferData,"filter-method":t.filterMethod,filterable:""},model:{value:t.targetKeys,callback:function(e){t.targetKeys=e},expression:"targetKeys"}}),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"success"},on:{click:t.ok}},[t._v("确定")])],1)],1)],1)},[],!1,null,null,null);f.options.__file="CSunFlowChosen.vue";e.default=f.exports},wGvv:function(t,e,n){"use strict";var o=n("I4Mh");n.n(o).a}}]);