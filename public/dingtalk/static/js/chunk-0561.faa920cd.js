(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0561"],{"Ts+a":function(e,i,t){"use strict";t.r(i);var l=t("P2sY"),r=t.n(l),n=t("QbLZ"),s=t.n(n),a=t("L2JU"),o=t("X4fA"),f={name:"CModelShowImages",props:{type:{type:String,default:function(){return"flowlog"}},filelistlog:{type:Array,default:function(){return[]}},files:{type:Array,default:function(){return[]}}},data:function(){return{image_preview_model:!1,preview_file:null,preview_rotate:0}},computed:s()({},Object(a.e)({userid:function(e){return e.user.__realobj.id}}),{preview_style:function(){return{transform:"rotate("+this.preview_rotate+"deg)"}}}),mounted:function(){},methods:{rotateImage:function(){this.preview_rotate=(this.preview_rotate+90)%360},showimage:function(e){var i=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=null;this.preview_file=null;var n=[];"flowlog"==this.type?(t&&(this.filelistlog=t),n=this.filelistlog):(t&&(this.files=t),n=[{files:this.files}]);var s=Object(o.b)(this.userid);n.forEach(function(t){t.files.forEach(function(n){n.fileid==e?(i.preview_file=r()({},n),i.preview_file.funname=t.funname?t.funname:null,i.preview_file.url=window.baseURL+"/file/oa/"+n.fileid+"/"+n.name+"?"+s,i.preview_file.previous_fileid=l,i.preview_rotate=0):"jpeg"!=n.formats&&"jpg"!=n.formats&&"png"!=n.formats||(i.preview_file?i.preview_file.next_fileid||(i.preview_file.next_fileid=n.fileid):l=n.fileid)})}),this.image_preview_model=!0}}},v=(t("X9ez"),t("KHd+")),_=Object(v.a)(f,function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("el-dialog",{attrs:{fullscreen:!0,title:e.preview_file?e.preview_file.name:"",visible:e.image_preview_model,"append-to-body":""},on:{"update:visible":function(i){e.image_preview_model=i}}},[e.preview_file?t("div",[t("div",[t("div",{staticStyle:{float:"left"}},[e.preview_file.funname?t("div",[e._v("来自流程："+e._s(e.preview_file.funname))]):e._e(),e._v("\n          文件信息："+e._s(e.preview_file.name)),t("br"),e._v("\n          上传时间："+e._s(e.preview_file.created_at)),t("br"),e._v("\n          文件大小："+e._s(e.preview_file.size)),t("br")]),e._v(" "),t("div",{staticStyle:{float:"left",padding:"10px"}},[t("div",[t("el-button",{attrs:{disabled:!e.preview_file.previous_fileid,size:"mini",icon:"el-icon-arrow-left"},on:{click:function(i){e.showimage(e.preview_file.previous_fileid)}}}),e._v(" "),t("el-button",{attrs:{disabled:!e.preview_file.next_fileid,size:"mini"},on:{click:function(i){e.showimage(e.preview_file.next_fileid)}}},[t("i",{staticClass:"el-icon-arrow-right el-icon--right"})]),e._v(" "),t("el-button",{attrs:{size:"mini"},on:{click:e.rotateImage}},[t("i",{staticClass:"el-icon-refresh-right"})])],1)]),e._v(" "),t("div",{staticClass:"clear"})]),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("div",{staticStyle:{"min-height":"150px"}},[t("el-image",{staticStyle:{padding:"10px"},style:e.preview_style,attrs:{src:e.preview_file.url}},[t("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[e._v("\n              加载中"),t("span",{staticClass:"dot"},[e._v("...")])]),e._v(" "),t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"}),e._v("图片加载失败\n          ")])])],1),e._v(" "),t("div",{staticStyle:{position:"fixed",bottom:"10px",width:"100%"}},[t("el-button",{attrs:{disabled:!e.preview_file.previous_fileid,size:"small",type:"primary",icon:"el-icon-arrow-left"},on:{click:function(i){e.showimage(e.preview_file.previous_fileid)}}},[e._v("上一张图片")]),e._v(" "),t("el-button",{attrs:{disabled:!e.preview_file.next_fileid,size:"small",type:"primary"},on:{click:function(i){e.showimage(e.preview_file.next_fileid)}}},[e._v("下一张图片"),t("i",{staticClass:"el-icon-arrow-right el-icon--right"})]),e._v(" "),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.rotateImage}},[e._v("旋转"),t("i",{staticClass:"el-icon-refresh-right el-icon--left"})])],1)])]):e._e()])],1)},[],!1,null,"e8fe8e0a",null);_.options.__file="CModalShowImages.vue";i.default=_.exports},X9ez:function(e,i,t){"use strict";var l=t("x5te");t.n(l).a},x5te:function(e,i,t){}}]);