(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3a45"],{"0JRH":function(t,e,o){"use strict";o.r(e);var n=o("lYLF"),i=o("USVN"),s={name:"CModelRevoke",props:{},data:function(){return{revokeModalStatus:!1,revokeReason:"",revokeList:[],loading:!1,flowmsgid:null}},mounted:function(){},watch:{},methods:{tran_dealtype:function(t){return Object(i.f)(t)},loadRevokeView:function(t){this.flowmsgid=t,this.init()},init:function(){var t=this;this.revokeModalStatus=!0,this.revokeList=[],this.revokeReason="",this.loading=!0,Object(n.z)({msg_id:this.flowmsgid}).then(function(e){var o=e.data;t.loading=!1,o.success?t.revokeList=o.data:t.$message.error(o.msg)})},revoketo:function(t){var e=this;this.$prompt("确定撤回到<"+t.NowFunName+">,撤回后，当前流程节点以及与撤回节点之间分发的节点都会被取消","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(t){return!!t},inputPlaceholder:"请输入撤回原因",inputErrorMessage:"撤回原因不可为空"}).then(function(o){var i=o.value;e.loading=!0,Object(n.A)({msg_id:e.flowmsgid,msg_to_id:t._id,reason:i}).then(function(t){var o=t.data;e.loading=!1,o.success?(e.$message.success(o.msg),e.$emit("on-revoke-success")):e.$message.error(o.msg)})}).catch(function(){})}}},a=(o("0x9A"),o("KHd+")),r=Object(a.a)(s,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{fullscreen:!t.isPc,title:"可撤回流程节点",visible:t.revokeModalStatus,width:"50%","append-to-body":""},on:{"update:visible":function(e){t.revokeModalStatus=e}}},[o("div",[o("table",{staticClass:"table table-bordered"},[o("tbody",[o("tr",[o("td",[t._v("节点名")]),t._v(" "),o("td",[t._v("处理人")]),t._v(" "),o("td",[t._v("时间")]),t._v(" "),o("td",{staticStyle:{width:"100px"}},[t._v("操作")])]),t._v(" "),t._l(t.revokeList,function(e,n){return o("tr",{key:n},[o("td",[t._v(t._s(e.NowFunName))]),t._v(" "),o("td",[t._v(t._s(e.toer))]),t._v(" "),o("td",{staticStyle:{width:"80px"}},[t._v(t._s(e.finished_at))]),t._v(" "),o("td",[o("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(o){t.revoketo(e)}}},[t._v("撤回到此处")])],1)])})],2)])])])},[],!1,null,"24ec3418",null);r.options.__file="CModalRevoke.vue";e.default=r.exports},"0x9A":function(t,e,o){"use strict";var n=o("AUDN");o.n(n).a},AUDN:function(t,e,o){}}]);