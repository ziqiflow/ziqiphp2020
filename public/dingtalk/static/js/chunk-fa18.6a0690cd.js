(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fa18"],{fneM:function(e,t,n){},lZxQ:function(e,t,n){"use strict";n.r(t);var s=n("QbLZ"),i=n.n(s),r=n("529z"),a=n.n(r),o=n("cCY5"),l=n.n(o),u=(n("VCwm"),n("L2JU")),c=n("fe1z"),d=n("X4fA"),p={name:"Contacts",mixins:[a.a],components:{Treeselect:l.a},props:{value:{type:String,default:function(){return null},isSync:!0}},data:function(){return{loading:!1,error:null,tabtype:"dept",singleDeptTree:[],LEAF_PRIORITY:"LEAF_PRIORITY",deptcolumns:[{text:"部门名称",value:"deptname",width:"250px"},{text:"员工名称",value:"username",width:"100px"},{text:"员工工号",value:"userjobid",width:"80px"}]}},computed:i()({},Object(u.e)({userByDepts:function(e){return e.contact.userByDepts}})),methods:i()({},Object(u.b)(["GetRoleTree","getUserByDeptData"]),{getnowUserdeptList:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[],r=0;r<e.length;r++){var a=e[r];if(a.deptname){var o={label:a.deptname};if(o.id="multiple"==t?a._uuid:null,a.children){if(!(a.children.length>0))continue;o.children=this.getnowUserdeptList(a.children,t,a._uuid,a.deptname)}i.push(o)}a.username&&i.push({id:n+"__"+a._uuid,label:(s?"<"+s+">":"")+a.username})}return i},initUserList:function(){var e=this;this.userList=[],this.userByDepts.forEach(function(t){e.userList.push(t)})},changetouser:function(e){var t=this;if(e){var n=e.split("__");Object(c.b)({userid:n[1]}).then(function(e){var n=e.data;console.log(n,"res"),n.success?(Object(d.e)(n.data.token,window.env[window.envname].CookieTokenKey),window.history.go(0)):t.$message.error(n.msg)})}else alert("用户名编号不可为空")},importDataFormDingtalk:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dept";this.loading=!0,GetDataFormDingtalk(t).then(function(t){var n=t.data;e.loading=!1,n.success?e.$message.success(n.msg):e.$message.error(n.msg),console.log(n)})}}),activated:function(){console.log("activated")},mounted:function(){var e=this;0==this.userByDepts.length?this.getUserByDeptData().then(function(t){e.singleDeptTree=e.getnowUserdeptList(e.userByDepts,"single")}):this.singleDeptTree=this.getnowUserdeptList(this.userByDepts,"single")}},h=(n("wBQA"),n("KHd+")),g=Object(h.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.error?n("el-alert",{attrs:{title:e.error,closable:!1,type:"error"}}):n("div",[n("treeselect",{staticStyle:{"line-height":"35px"},attrs:{"disable-branch-nodes":!0,"value-consists-of":e.LEAF_PRIORITY,multiple:!1,options:e.singleDeptTree,placeholder:"请输入要切换人的姓名"},model:{value:e.sync_value,callback:function(t){e.sync_value=t},expression:"sync_value"}})],1)],1)},[],!1,null,null,null);g.options.__file="CchangeUser2.vue";t.default=g.exports},wBQA:function(e,t,n){"use strict";var s=n("fneM");n.n(s).a}}]);